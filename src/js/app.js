// Smart Shop Simulator - Main JavaScript

// Game state
const gameState = {
    balance: 1000,
    customers: 0,
    products: [],
    activeCampaigns: [],
    settings: {
        shopName: "–ú–æ–π –º–∞–≥–∞–∑–∏–Ω",
        shopType: "grocery",
        difficulty: "medium",
        simulationSpeed: 3,
        autoSave: true
    },
    simulationRunning: false,
    dayCount: 1
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
let tg = window.Telegram.WebApp;

// –î–∞–Ω–Ω—ã–µ –∫—É—Ä—Å–æ–≤ –∏ —Ç–µ—Å—Ç–æ–≤
const courses = {
    1: {
        id: 1,
        title: "–û—Å–Ω–æ–≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è",
        description: "–í–≤–µ–¥–µ–Ω–∏–µ –≤ –º–∏—Ä –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö",
        lessons: [
            { id: 1, title: "–í–≤–µ–¥–µ–Ω–∏–µ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ", duration: "15 –º–∏–Ω", completed: false, locked: false, content: {
                type: "text",
                text: `<h3>–í–≤–µ–¥–µ–Ω–∏–µ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                <p>–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º —Å –ø–æ–º–æ—â—å—é —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.</p>
                <p>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:</p>
                <ul>
                    <li><strong>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</strong> ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</li>
                    <li><strong>–£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã</strong> ‚Äî –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–∞–∑–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏–π</li>
                    <li><strong>–¶–∏–∫–ª—ã</strong> ‚Äî –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å –±–ª–æ–∫–∏ –∫–æ–¥–∞</li>
                    <li><strong>–§—É–Ω–∫—Ü–∏–∏</strong> ‚Äî –±–ª–æ–∫–∏ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ</li>
                </ul>
                <div class="video-container">
                    <iframe width="100%" height="200" src="https://www.youtube.com/embed/zOjov-2OZ0E" frameborder="0" allowfullscreen></iframe>
                </div>
                <div class="interactive-element">
                    <h4>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∞–º–∏!</h4>
                    <p>–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ—Å—Ç—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç "Hello, World!":</p>
                    <pre><code>console.log("Hello, World!");</code></pre>
                    <button class="tg-button" onclick="runCode()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–¥</button>
                    <div id="code-output" class="code-output"></div>
                </div>`
            }},
            { id: 2, title: "–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö", duration: "20 –º–∏–Ω", completed: false, locked: true },
            { id: 3, title: "–£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã", duration: "25 –º–∏–Ω", completed: false, locked: true },
            { id: 4, title: "–¶–∏–∫–ª—ã", duration: "30 –º–∏–Ω", completed: false, locked: true },
            { id: 5, title: "–§—É–Ω–∫—Ü–∏–∏", duration: "35 –º–∏–Ω", completed: false, locked: true }
        ]
    },
    2: {
        id: 2,
        title: "–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
        description: "–ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤—ã —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-—Å–∞–π—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é HTML, CSS –∏ JavaScript",
        lessons: [
            { id: 1, title: "–í–≤–µ–¥–µ–Ω–∏–µ –≤ HTML", duration: "20 –º–∏–Ω", completed: false, locked: true },
            { id: 2, title: "–û—Å–Ω–æ–≤—ã CSS", duration: "25 –º–∏–Ω", completed: false, locked: true },
            { id: 3, title: "–í–µ—Ä—Å—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã", duration: "30 –º–∏–Ω", completed: false, locked: true },
            { id: 4, title: "–í–≤–µ–¥–µ–Ω–∏–µ –≤ JavaScript", duration: "35 –º–∏–Ω", completed: false, locked: true },
            { id: 5, title: "DOM-–º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏", duration: "30 –º–∏–Ω", completed: false, locked: true },
            { id: 6, title: "–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π", duration: "25 –º–∏–Ω", completed: false, locked: true },
            { id: 7, title: "–†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞–º–∏", duration: "30 –º–∏–Ω", completed: false, locked: true },
            { id: 8, title: "–§–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç", duration: "45 –º–∏–Ω", completed: false, locked: true }
        ]
    },
    3: {
        id: 3,
        title: "–ú–æ–±–∏–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
        description: "–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è iOS –∏ Android",
        lessons: [
            { id: 1, title: "–í–≤–µ–¥–µ–Ω–∏–µ –≤ –º–æ–±–∏–ª—å–Ω—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É", duration: "20 –º–∏–Ω", completed: false, locked: true },
            { id: 2, title: "–û—Å–Ω–æ–≤—ã UI/UX –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π", duration: "25 –º–∏–Ω", completed: false, locked: true },
            { id: 3, title: "–†–∞–±–æ—Ç–∞ —Å API", duration: "30 –º–∏–Ω", completed: false, locked: true },
            { id: 4, title: "–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö", duration: "25 –º–∏–Ω", completed: false, locked: true },
            { id: 5, title: "–ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è", duration: "20 –º–∏–Ω", completed: false, locked: true },
            { id: 6, title: "–§–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç", duration: "45 –º–∏–Ω", completed: false, locked: true }
        ]
    },
    4: {
        id: 4,
        title: "–ú–∞—Å—Ç–µ—Ä –ø—Ä–æ–¥–∞–∂",
        description: "–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∫—É—Ä—Å –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é –Ω–∞–≤—ã–∫–æ–≤ –ø—Ä–æ–¥–∞–∂ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π",
        lessons: [
            { id: 1, title: "–û—Å–Ω–æ–≤—ã —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂", duration: "20 –º–∏–Ω", completed: false, locked: false, content: {
                type: "text",
                text: `<h3>–û—Å–Ω–æ–≤—ã —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂</h3>
                <p>–ü—Ä–æ–¥–∞–∂–∏ ‚Äî —ç—Ç–æ –∏—Å–∫—É—Å—Å—Ç–≤–æ –∏ –Ω–∞—É–∫–∞ —É–±–µ–∂–¥–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏–ª–∏ —É—Å–ª—É–≥–∏.</p>
                <p>–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂:</p>
                <ul>
                    <li><strong>–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞</strong> ‚Äî –≤—ã—è–≤–ª–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –∏ –±–æ–ª–µ–π –∫–ª–∏–µ–Ω—Ç–∞</li>
                    <li><strong>–¶–µ–Ω–Ω–æ—Å—Ç–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</strong> ‚Äî –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ü–µ–Ω–Ω–æ—Å—Ç–∏, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫</li>
                    <li><strong>–ê–∫—Ç–∏–≤–Ω–æ–µ —Å–ª—É—à–∞–Ω–∏–µ</strong> ‚Äî —É–º–µ–Ω–∏–µ —Å–ª—ã—à–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –∏ –∑–∞–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã</li>
                    <li><strong>–†–∞–±–æ—Ç–∞ —Å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è–º–∏</strong> ‚Äî –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π –≤ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</li>
                </ul>
                <div class="video-container">
                    <iframe width="100%" height="200" src="https://www.youtube.com/embed/7OoVwAFtZ5o" frameborder="0" allowfullscreen></iframe>
                </div>
                <div class="interactive-element">
                    <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</h4>
                    <p>–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –≥–æ–≤–æ—Ä–∏—Ç: "–í–∞—à –ø—Ä–æ–¥—É–∫—Ç —Å–ª–∏—à–∫–æ–º –¥–æ—Ä–æ–≥–æ–π". –ö–∞–∫ –±—ã –≤—ã –æ—Ç–≤–µ—Ç–∏–ª–∏?</p>
                    <div class="role-play">
                        <button class="role-play-option" onclick="handleRolePlay('price', 1)">–ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ä—ã–Ω–∫–µ</button>
                        <button class="role-play-option" onclick="handleRolePlay('price', 2)">–ú–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤–∞–º —Å–∫–∏–¥–∫—É</button>
                        <button class="role-play-option" onclick="handleRolePlay('price', 3)">–î–∞–≤–∞–π—Ç–µ –æ–±—Å—É–¥–∏–º, –∫–∞–∫—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –≤—ã –∏—â–µ—Ç–µ –≤ –ø—Ä–æ–¥—É–∫—Ç–µ</button>
                    </div>
                    <div id="role-play-feedback" class="role-play-feedback"></div>
                </div>
                <div class="checklist">
                    <h4>–ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –ø–µ—Ä–≤–æ–π –≤—Å—Ç—Ä–µ—á–∏ —Å –∫–ª–∏–µ–Ω—Ç–æ–º</h4>
                    <ul>
                        <li>–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–µ –∑–∞—Ä–∞–Ω–µ–µ</li>
                        <li>–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π</li>
                        <li>–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∞</li>
                        <li>–ü—Ä–æ–¥—É–º–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è</li>
                        <li>–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –∏ –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π</li>
                    </ul>
                </div>`
            }},
            { id: 2, title: "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –ø—Ä–æ–¥–∞–∂", duration: "25 –º–∏–Ω", completed: false, locked: true },
            { id: 3, title: "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏", duration: "30 –º–∏–Ω", completed: false, locked: true },
            { id: 4, title: "–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å –≤—ã—Å—à–µ–≥–æ —É—Ä–æ–≤–Ω—è", duration: "25 –º–∏–Ω", completed: false, locked: true },
            { id: 5, title: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Ä–æ–Ω–∫–æ–π –ø—Ä–æ–¥–∞–∂", duration: "30 –º–∏–Ω", completed: false, locked: true },
            { id: 6, title: "–¢–µ—Ö–Ω–∏–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–¥–µ–ª–æ–∫", duration: "20 –º–∏–Ω", completed: false, locked: true },
            { id: 7, title: "–†–∞–±–æ—Ç–∞ —Å –∫–ª—é—á–µ–≤—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏", duration: "25 –º–∏–Ω", completed: false, locked: true },
            { id: 8, title: "–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π", duration: "20 –º–∏–Ω", completed: false, locked: true },
            { id: 9, title: "FAQ –∏ —Å–æ–≤–µ—Ç—ã —ç–∫—Å–ø–µ—Ä—Ç–æ–≤", duration: "15 –º–∏–Ω", completed: false, locked: true, content: {
                type: "text",
                text: `<h3>FAQ –∏ —Å–æ–≤–µ—Ç—ã —ç–∫—Å–ø–µ—Ä—Ç–æ–≤</h3>
                <div class="faq-section">
                    <h4>–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h4>
                    
                    <div class="faq-item">
                        <div class="faq-question">–ö–∞–∫ —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º?</div>
                        <div class="faq-answer">
                            <p>–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –∞–≥—Ä–µ—Å—Å–∏—é –Ω–∞ —Å–≤–æ–π —Å—á–µ—Ç. –ê–∫—Ç–∏–≤–Ω–æ —Å–ª—É—à–∞–π—Ç–µ, –¥–∞–π—Ç–µ –∫–ª–∏–µ–Ω—Ç—É –≤—ã—Å–∫–∞–∑–∞—Ç—å—Å—è. 
                            –í—ã—Ä–∞–∑–∏—Ç–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –µ–≥–æ —á—É–≤—Å—Ç–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã. –ï—Å–ª–∏ —Å–∏—Ç—É–∞—Ü–∏—è –Ω–µ —É–ª—É—á—à–∞–µ—Ç—Å—è, 
                            –≤–µ–∂–ª–∏–≤–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä –ø–æ–∑–∂–µ –∏–ª–∏ –ø—Ä–∏–≤–ª–µ–∫–∏—Ç–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">–ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞?</div>
                        <div class="faq-answer">
                            <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (–Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å "—á—Ç–æ", "–∫–∞–∫", "–ø–æ—á–µ–º—É"). –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–ª—É—à–∞–Ω–∏–µ, 
                            –æ–±—Ä–∞—â–∞—è –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–ª–æ–≤–∞, –Ω–æ –∏ –Ω–∞ –∏–Ω—Ç–æ–Ω–∞—Ü–∏—é –∏ —è–∑—ã–∫ —Ç–µ–ª–∞. –ü–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä—É–π—Ç–µ —É—Å–ª—ã—à–∞–Ω–Ω–æ–µ, —á—Ç–æ–±—ã 
                            —É–±–µ–¥–∏—Ç—å—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ–Ω–∏–º–∞–Ω–∏–∏. –ò—Å—Å–ª–µ–¥—É–π—Ç–µ –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏, –Ω–æ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">–ö–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–µ–∑–µ–Ω—Ç–æ–≤–∞—Ç—å —Ü–µ–Ω—É?</div>
                        <div class="faq-answer">
                            <p>–í—Å–µ–≥–¥–∞ —Å–Ω–∞—á–∞–ª–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Ü–µ–Ω–Ω–æ—Å—Ç—å, –∞ –∑–∞—Ç–µ–º –Ω–∞–∑—ã–≤–∞–π—Ç–µ —Ü–µ–Ω—É. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫—É "—Å—ç–Ω–¥–≤–∏—á–∞": 
                            —Ü–µ–Ω–Ω–æ—Å—Ç—å - —Ü–µ–Ω–∞ - —Ü–µ–Ω–Ω–æ—Å—Ç—å. –ì–æ–≤–æ—Ä–∏—Ç–µ –æ —Ü–µ–Ω–µ —É–≤–µ—Ä–µ–Ω–Ω–æ, –±–µ–∑ –∏–∑–≤–∏–Ω–µ–Ω–∏–π. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞–∑–±–∏–≤–∞–π—Ç–µ 
                            —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ –∏–ª–∏ –Ω–∞ –ø–µ—Ä–∏–æ–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ –º–µ—Å—è—Ü –≤–º–µ—Å—Ç–æ –≥–æ–¥–æ–≤–æ–π).</p>
                        </div>
                    </div>
                </div>
                
                <div class="expert-tips">
                    <h4>–°–æ–≤–µ—Ç—ã –æ—Ç —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –æ—Ç—Ä–∞—Å–ª–∏</h4>
                    
                    <div class="expert-tip">
                        <div class="expert-name">–ú–∏—Ö–∞–∏–ª –ò–≤–∞–Ω–æ–≤, –¥–∏—Ä–µ–∫—Ç–æ—Ä –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º –∫–æ–º–ø–∞–Ω–∏–∏ "–¢–µ—Ö–Ω–æ–õ–∏–¥–µ—Ä"</div>
                        <div class="expert-advice">
                            "–°–∞–º–∞—è –±–æ–ª—å—à–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ ‚Äî –≥–æ–≤–æ—Ä–∏—Ç—å –±–æ–ª—å—à–µ, —á–µ–º —Å–ª—É—à–∞—Ç—å. –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 80/20 
                            –≤ –ø–æ–ª—å–∑—É –∫–ª–∏–µ–Ω—Ç–∞. –ó–∞–¥–∞–≤–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —Å–ª—É—à–∞–π—Ç–µ –æ—Ç–≤–µ—Ç—ã ‚Äî —Ç–∞–º —Å–∫—Ä—ã—Ç—ã –≤—Å–µ 
                            –∫–ª—é—á–∏ –∫ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–¥–∞–∂–µ."
                        </div>
                    </div>
                    
                    <div class="expert-tip">
                        <div class="expert-name">–ï–ª–µ–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞, –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–Ω–µ—Ä –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º</div>
                        <div class="expert-advice">
                            "–†–µ–≥—É–ª—è—Ä–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–≤–æ–∏ —É—Å–ø–µ—à–Ω—ã–µ –∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ —Å–¥–µ–ª–∫–∏. –í–µ–¥–∏—Ç–µ –¥–Ω–µ–≤–Ω–∏–∫ –ø—Ä–æ–¥–∞–∂, –≥–¥–µ –æ—Ç–º–µ—á–∞–µ—Ç–µ, 
                            —á—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ, –∞ —á—Ç–æ –Ω–µ—Ç. –¢–∞–∫–∞—è —Ä–µ—Ñ–ª–µ–∫—Å–∏—è ‚Äî –∫–ª—é—á –∫ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º—É —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏—é –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤."
                        </div>
                    </div>
                </div>`
            }}
        ]
    },
    5: {
        id: 5,
        title: "–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å –¥–ª—è –≤—Å–µ—Ö",
        description: "–ù–∞—É—á–∏—Ç–µ—Å—å —É–ø—Ä–∞–≤–ª—è—Ç—å –ª–∏—á–Ω—ã–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏, –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –±—é–¥–∂–µ—Ç",
        lessons: [
            { id: 1, title: "–û—Å–Ω–æ–≤—ã –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤", duration: "20 –º–∏–Ω", completed: false, locked: false, content: {
                type: "text",
                text: `<h3>–û—Å–Ω–æ–≤—ã –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤</h3>
                <p>–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –∑–Ω–∞–Ω–∏–π –∏ –Ω–∞–≤—ã–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ª–∏—á–Ω—ã–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏.</p>
                
                <div class="infographic">
                    <h4>–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤</h4>
                    <div class="infographic-item">
                        <div class="infographic-icon">üí∞</div>
                        <div class="infographic-content">
                            <h5>–î–æ—Ö–æ–¥—ã</h5>
                            <p>–ó–∞—Ä–ø–ª–∞—Ç–∞, –ø–æ–¥—Ä–∞–±–æ—Ç–∫–∏, –ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</p>
                        </div>
                    </div>
                    <div class="infographic-item">
                        <div class="infographic-icon">üìä</div>
                        <div class="infographic-content">
                            <h5>–†–∞—Å—Ö–æ–¥—ã</h5>
                            <p>–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ (–∂–∏–ª—å—ë, –µ–¥–∞), –∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ (—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è), —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è</p>
                        </div>
                    </div>
                    <div class="infographic-item">
                        <div class="infographic-icon">üè¶</div>
                        <div class="infographic-content">
                            <h5>–°–±–µ—Ä–µ–∂–µ–Ω–∏—è</h5>
                            <p>–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –Ω–∞ —Ü–µ–ª–∏</p>
                        </div>
                    </div>
                    <div class="infographic-item">
                        <div class="infographic-icon">üìà</div>
                        <div class="infographic-content">
                            <h5>–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</h5>
                            <p>–ü—Ä–∏—É–º–Ω–æ–∂–µ–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–∞, –∑–∞—â–∏—Ç–∞ –æ—Ç –∏–Ω—Ñ–ª—è—Ü–∏–∏</p>
                        </div>
                    </div>
                </div>
                
                <p>–ü–µ—Ä–≤—ã–π —à–∞–≥ –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏ ‚Äî —ç—Ç–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞.</p>
                
                <div class="video-container">
                    <iframe width="100%" height="200" src="https://www.youtube.com/embed/HQzoZfc3GwQ" frameborder="0" allowfullscreen></iframe>
                </div>
                
                <div class="interactive-element">
                    <h4>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –±—é–¥–∂–µ—Ç–∞</h4>
                    <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π –º–µ—Å—è—á–Ω—ã–π –±—é–¥–∂–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä:</p>
                    
                    <div class="budget-calculator">
                        <div class="calculator-section">
                            <h5>–î–æ—Ö–æ–¥—ã</h5>
                            <div class="calculator-row">
                                <label for="income-salary">–ó–∞—Ä–ø–ª–∞—Ç–∞:</label>
                                <input type="number" id="income-salary" placeholder="0" min="0">
                            </div>
                            <div class="calculator-row">
                                <label for="income-additional">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥:</label>
                                <input type="number" id="income-additional" placeholder="0" min="0">
                            </div>
                            <div class="calculator-row total">
                                <label>–í—Å–µ–≥–æ –¥–æ—Ö–æ–¥–æ–≤:</label>
                                <span id="total-income">0</span>
                            </div>
                        </div>
                        
                        <div class="calculator-section">
                            <h5>–†–∞—Å—Ö–æ–¥—ã</h5>
                            <div class="calculator-row">
                                <label for="expense-housing">–ñ–∏–ª—å—ë:</label>
                                <input type="number" id="expense-housing" placeholder="0" min="0">
                            </div>
                            <div class="calculator-row">
                                <label for="expense-food">–ü–∏—Ç–∞–Ω–∏–µ:</label>
                                <input type="number" id="expense-food" placeholder="0" min="0">
                            </div>
                            <div class="calculator-row">
                                <label for="expense-transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç:</label>
                                <input type="number" id="expense-transport" placeholder="0" min="0">
                            </div>
                            <div class="calculator-row">
                                <label for="expense-entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è:</label>
                                <input type="number" id="expense-entertainment" placeholder="0" min="0">
                            </div>
                            <div class="calculator-row">
                                <label for="expense-other">–ü—Ä–æ—á–µ–µ:</label>
                                <input type="number" id="expense-other" placeholder="0" min="0">
                            </div>
                            <div class="calculator-row total">
                                <label>–í—Å–µ–≥–æ —Ä–∞—Å—Ö–æ–¥–æ–≤:</label>
                                <span id="total-expenses">0</span>
                            </div>
                        </div>
                        
                        <div class="calculator-result">
                            <div class="calculator-row balance">
                                <label>–ë–∞–ª–∞–Ω—Å:</label>
                                <span id="balance">0</span>
                            </div>
                        </div>
                        
                        <button class="tg-button" onclick="calculateBudget()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                    </div>
                    
                    <div id="budget-feedback" class="budget-feedback"></div>
                </div>
                
                <div class="key-takeaways">
                    <h4>–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</h4>
                    <ul>
                        <li>–í–µ–¥–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ –ø–æ–º–æ–≥–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –∏ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è</li>
                        <li>–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫—Ä—ã–≤–∞—Ç—å 3-6 –º–µ—Å—è—Ü–µ–≤ —Ä–∞—Å—Ö–æ–¥–æ–≤</li>
                        <li>–ü—Ä–∞–≤–∏–ª–æ 50/30/20: 50% –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, 30% –Ω–∞ –∂–µ–ª–∞–Ω–∏—è, 20% –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è</li>
                        <li>–†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏</li>
                    </ul>
                </div>`
            }},
            { id: 2, title: "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞", duration: "25 –º–∏–Ω", completed: false, locked: false, content: {
                type: "text",
                text: `<h3>–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞</h3>
                <p>–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞ –¥–ª—è –≤–∞—à–∏—Ö –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –¥–æ—Å—Ç–∏–≥–∞—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ü–µ–ª–µ–π –∏ –∏–∑–±–µ–≥–∞—Ç—å –¥–æ–ª–≥–æ–≤.</p>
                
                <div class="infographic">
                    <h4>–≠—Ç–∞–ø—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞</h4>
                    <div class="infographic-item">
                        <div class="infographic-icon">1Ô∏è‚É£</div>
                        <div class="infographic-content">
                            <h5>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤</h5>
                            <p>–£—á–∏—Ç—ã–≤–∞–π—Ç–µ –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–æ—Ö–æ–¥–∞: –∑–∞—Ä–ø–ª–∞—Ç–∞, –ø–æ–¥—Ä–∞–±–æ—Ç–∫–∏, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏, –∞—Ä–µ–Ω–¥–∞ –∏ —Ç.–¥.</p>
                        </div>
                    </div>
                    <div class="infographic-item">
                        <div class="infographic-icon">2Ô∏è‚É£</div>
                        <div class="infographic-content">
                            <h5>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤</h5>
                            <p>–ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –≤—Å–µ —Ä–∞—Å—Ö–æ–¥—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä—É–π—Ç–µ –∏—Ö (–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ, –∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏)</p>
                        </div>
                    </div>
                    <div class="infographic-item">
                        <div class="infographic-icon">3Ô∏è‚É£</div>
                        <div class="infographic-content">
                            <h5>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–ª–µ–π</h5>
                            <p>–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ü–µ–ª–∏</p>
                        </div>
                    </div>
                    <div class="infographic-item">
                        <div class="infographic-icon">4Ô∏è‚É£</div>
                        <div class="infographic-content">
                            <h5>–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞</h5>
                            <p>–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –¥–æ—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ —Å–±–µ—Ä–µ–∂–µ–Ω–∏–π</p>
                        </div>
                    </div>
                    <div class="infographic-item">
                        <div class="infographic-icon">5Ô∏è‚É£</div>
                        <div class="infographic-content">
                            <h5>–†–µ–≥—É–ª—è—Ä–Ω—ã–π –ø–µ—Ä–µ—Å–º–æ—Ç—Ä</h5>
                            <p>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ –±—é–¥–∂–µ—Ç –µ–∂–µ–º–µ—Å—è—á–Ω–æ</p>
                        </div>
                    </div>
                </div>
                
                <div class="video-container">
                    <iframe width="100%" height="200" src="https://www.youtube.com/embed/sVKQn2I4HDM" frameborder="0" allowfullscreen></iframe>
                </div>
                
                <h4>–ú–µ—Ç–æ–¥—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞</h4>
                <p>–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞:</p>
                
                <div class="budget-methods">
                    <div class="budget-method">
                        <h5>–ú–µ—Ç–æ–¥ 50/30/20</h5>
                        <p>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞:</p>
                        <ul>
                            <li><strong>50%</strong> –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã (–∂–∏–ª—å—ë, –µ–¥–∞, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç)</li>
                            <li><strong>30%</strong> –Ω–∞ –∂–µ–ª–∞–Ω–∏—è (—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è, —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, —Ö–æ–±–±–∏)</li>
                            <li><strong>20%</strong> –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</li>
                        </ul>
                    </div>
                    
                    <div class="budget-method">
                        <h5>–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω–≤–µ—Ä—Ç–æ–≤</h5>
                        <p>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –¥–µ–Ω–µ–≥ –ø–æ –∫–æ–Ω–≤–µ—Ä—Ç–∞–º –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞—Å—Ö–æ–¥–æ–≤. –ö–æ–≥–¥–∞ –∫–æ–Ω–≤–µ—Ä—Ç –ø—É—Å—Ç, —Ä–∞—Å—Ö–æ–¥—ã –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–∞—é—Ç—Å—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –º–µ—Å—è—Ü–∞.</p>
                    </div>
                    
                    <div class="budget-method">
                        <h5>–ú–µ—Ç–æ–¥ "–ó–∞–ø–ª–∞—Ç–∏ —Å–Ω–∞—á–∞–ª–∞ —Å–µ–±–µ"</h5>
                        <p>–°–Ω–∞—á–∞–ª–∞ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç –¥–æ—Ö–æ–¥–∞ –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏, –∞ –∑–∞—Ç–µ–º –ø–ª–∞–Ω–∏—Ä—É–π—Ç–µ —Ä–∞—Å—Ö–æ–¥—ã –∏–∑ –æ—Å—Ç–∞–≤—à–µ–π—Å—è —Å—É–º–º—ã.</p>
                    </div>
                </div>
                
                <div class="interactive-element">
                    <h4>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π</h4>
                    <p>–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ, –∫–∞–∫ –≤–∞—à–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –º–æ–≥—É—Ç –≤—ã—Ä–∞—Å—Ç–∏ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º:</p>
                    
                    <div class="investment-calculator">
                        <div class="calculator-row">
                            <label for="initial-investment">–ù–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ (‚ÇΩ):</label>
                            <input type="number" id="initial-investment" placeholder="10000" min="0">
                        </div>
                        <div class="calculator-row">
                            <label for="monthly-contribution">–ï–∂–µ–º–µ—Å—è—á–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (‚ÇΩ):</label>
                            <input type="number" id="monthly-contribution" placeholder="1000" min="0">
                        </div>
                        <div class="calculator-row">
                            <label for="annual-return">–ì–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (%):</label>
                            <input type="number" id="annual-return" placeholder="7" min="0" max="100">
                        </div>
                        <div class="calculator-row">
                            <label for="investment-period">–°—Ä–æ–∫ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–ª–µ—Ç):</label>
                            <input type="number" id="investment-period" placeholder="10" min="1" max="50">
                        </div>
                        
                        <button class="tg-button" onclick="calculateInvestment()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                        
                        <div class="investment-result" id="investment-result" style="display: none;">
                            <h5>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞:</h5>
                            <div class="result-row">
                                <span>–í–ª–æ–∂–µ–Ω–Ω–∞—è —Å—É–º–º–∞:</span>
                                <span id="total-contributions">0 ‚ÇΩ</span>
                            </div>
                            <div class="result-row">
                                <span>–ü—Ä–∏–±—ã–ª—å –æ—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π:</span>
                                <span id="total-interest">0 ‚ÇΩ</span>
                            </div>
                            <div class="result-row total">
                                <span>–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞:</span>
                                <span id="final-amount">0 ‚ÇΩ</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="key-takeaways">
                    <h4>–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</h4>
                    <ul>
                        <li>–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ –ø–æ–º–æ–≥–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–Ω–∞–Ω—Å—ã –∏ –¥–æ—Å—Ç–∏–≥–∞—Ç—å —Ü–µ–ª–µ–π</li>
                        <li>–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Ç–æ–¥ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–æ–¥–∏—Ç –∏–º–µ–Ω–Ω–æ –≤–∞–º</li>
                        <li>–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–∂–µ –Ω–µ–±–æ–ª—å—à–∏—Ö —Å—É–º–º –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–º—É —Ä–æ—Å—Ç—É –∫–∞–ø–∏—Ç–∞–ª–∞</li>
                        <li>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–∑–Ω–æ–π –ø—Ä–∏–≤—ã—á–∫–∏</li>
                    </ul>
                </div>`
            }},
            { id: 3, title: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ª–≥–∞–º–∏ –∏ –∫—Ä–µ–¥–∏—Ç–∞–º–∏", duration: "30 –º–∏–Ω", completed: false, locked: true },
            { id: 4, title: "–û—Å–Ω–æ–≤—ã –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è", duration: "35 –º–∏–Ω", completed: false, locked: true },
            { id: 5, title: "–§–æ–Ω–¥–æ–≤—ã–π —Ä—ã–Ω–æ–∫ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö", duration: "30 –º–∏–Ω", completed: false, locked: true },
            { id: 6, title: "–ü–µ–Ω—Å–∏–æ–Ω–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", duration: "25 –º–∏–Ω", completed: false, locked: true },
            { id: 7, title: "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏", duration: "20 –º–∏–Ω", completed: false, locked: true },
            { id: 8, title: "–ù–∞–ª–æ–≥–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è", duration: "25 –º–∏–Ω", completed: false, locked: true },
            { id: 9, title: "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ü–µ–ª–∏ –∏ –∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ", duration: "20 –º–∏–Ω", completed: false, locked: true }
        ]
    }
};

const tests = {
    1: {
        id: 1,
        title: "–¢–µ—Å—Ç –ø–æ –æ—Å–Ω–æ–≤–∞–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è",
        courseId: 1,
        lessonId: 1,
        questions: [
            {
                id: 1,
                text: "–ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è?",
                options: [
                    "–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö",
                    "–§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π",
                    "–û–ø–µ—Ä–∞—Ç–æ—Ä —Å—Ä–∞–≤–Ω–µ–Ω–∏—è",
                    "–ú–µ—Ç–æ–¥ –≤—ã–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö"
                ],
                correctAnswer: 0
            },
            {
                id: 2,
                text: "–ö–∞–∫–æ–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –±–µ–∑ —É—á–µ—Ç–∞ —Ç–∏–ø–∞?",
                options: [
                    "===",
                    "==",
                    "=",
                    "!="
                ],
                correctAnswer: 1
            },
            {
                id: 3,
                text: "–ß—Ç–æ –≤—ã–≤–µ–¥–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥: console.log('Hello, World!')?",
                options: [
                    "Hello, World!",
                    "–û—à–∏–±–∫—É",
                    "–ù–∏—á–µ–≥–æ",
                    "undefined"
                ],
                correctAnswer: 0
            },
            {
                id: 4,
                text: "–ö–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞?",
                options: [
                    "Java",
                    "Python",
                    "JavaScript",
                    "C++"
                ],
                correctAnswer: 2
            },
            {
                id: 5,
                text: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ—É–Ω–∫—Ü–∏—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏?",
                options: [
                    "–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö",
                    "–ë–ª–æ–∫ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ",
                    "–û–ø–µ—Ä–∞—Ç–æ—Ä —Å—Ä–∞–≤–Ω–µ–Ω–∏—è",
                    "–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö"
                ],
                correctAnswer: 1
            }
        ]
    },
    2: {
        id: 2,
        title: "–¢–µ—Å—Ç –ø–æ HTML –∏ CSS",
        courseId: 2,
        lessonId: 1,
        questions: [
            {
                id: 1,
                text: "–ö–∞–∫–æ–π —Ç–µ–≥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è?",
                options: [
                    "<header>",
                    "<h1>",
                    "<heading>",
                    "<title>"
                ],
                correctAnswer: 1
            },
            {
                id: 2,
                text: "–ö–∞–∫–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ CSS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞?",
                options: [
                    "text-color",
                    "font-color",
                    "color",
                    "text-style"
                ],
                correctAnswer: 2
            },
            // –î—Ä—É–≥–∏–µ –≤–æ–ø—Ä–æ—Å—ã...
        ]
    },
    3: {
        id: 3,
        title: "–¢–µ—Å—Ç –ø–æ JavaScript",
        courseId: 2,
        lessonId: 4,
        questions: [
            {
                id: 1,
                text: "–ö–∞–∫–æ–π –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –∫–æ–Ω–µ—Ü –º–∞—Å—Å–∏–≤–∞?",
                options: [
                    "push()",
                    "append()",
                    "add()",
                    "insert()"
                ],
                correctAnswer: 0
            },
            {
                id: 2,
                text: "–ö–∞–∫ –æ–±—ä—è–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ JavaScript?",
                options: [
                    "var myVar;",
                    "variable myVar;",
                    "v myVar;",
                    "let myVar = 5;"
                ],
                correctAnswer: 3
            },
            // –î—Ä—É–≥–∏–µ –≤–æ–ø—Ä–æ—Å—ã...
        ]
    },
    4: {
        id: 4,
        title: "–¢–µ—Å—Ç –ø–æ –æ—Å–Ω–æ–≤–∞–º –ø—Ä–æ–¥–∞–∂",
        courseId: 4,
        lessonId: 1,
        questions: [
            {
                id: 1,
                text: "–ß—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –∫–ª–∏–µ–Ω—Ç–∞?",
                options: [
                    "–†–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –≤—Å–µ—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞—Ö –ø—Ä–æ–¥—É–∫—Ç–∞",
                    "–ê–∫—Ç–∏–≤–Ω–æ–µ —Å–ª—É—à–∞–Ω–∏–µ –∏ –∑–∞–¥–∞–≤–∞–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤",
                    "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–∫–∏–¥–∫–∏",
                    "–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –ø–µ—Ä–µ–¥ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏"
                ],
                correctAnswer: 1
            },
            {
                id: 2,
                text: "–ö–∞–∫ –ª—É—á—à–µ –≤—Å–µ–≥–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–µ –æ –≤—ã—Å–æ–∫–æ–π —Ü–µ–Ω–µ?",
                options: [
                    "–°—Ä–∞–∑—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Å–∫–∏–¥–∫—É",
                    "–°—Ä–∞–≤–Ω–∏—Ç—å —Å –±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–∏–º–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏",
                    "–û–±—ä—è—Å–Ω–∏—Ç—å —Ü–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –∫–ª–∏–µ–Ω—Ç–∞",
                    "–°–∫–∞–∑–∞—Ç—å, —á—Ç–æ —ç—Ç–æ —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞"
                ],
                correctAnswer: 2
            },
            {
                id: 3,
                text: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ü–µ–Ω–Ω–æ—Å—Ç–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ?",
                options: [
                    "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–∫–∏–¥–∫–∏ –∏–ª–∏ –∞–∫—Ü–∏–∏",
                    "–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–æ–¥—É–∫—Ç —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –∫–ª–∏–µ–Ω—Ç–∞",
                    "–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø—Ä–æ–¥—É–∫—Ç–∞",
                    "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏"
                ],
                correctAnswer: 1
            },
            {
                id: 4,
                text: "–ö–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –≤—Å—Ç—Ä–µ—á–µ —Å –∫–ª–∏–µ–Ω—Ç–æ–º?",
                options: [
                    "–°—Ä–∞–∑—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∫—É–ø–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç",
                    "–†–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –≤—Å–µ—Ö –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞—Ö –∫–æ–º–ø–∞–Ω–∏–∏",
                    "–ó–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏ –≤—ã—è–≤–ª—è—Ç—å –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏",
                    "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Ü–µ–Ω—É"
                ],
                correctAnswer: 2
            },
            {
                id: 5,
                text: "–ß—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–∑–Ω–∞–∫–æ–º —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–¥–∞–∂–∏?",
                options: [
                    "–ö–ª–∏–µ–Ω—Ç –∑–∞–¥–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –æ –¥–µ—Ç–∞–ª—è—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞",
                    "–ö–ª–∏–µ–Ω—Ç –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –ø–æ–¥—É–º–∞–µ—Ç",
                    "–ö–ª–∏–µ–Ω—Ç –ø—Ä–æ—Å–∏—Ç —Å–∫–∏–¥–∫—É",
                    "–ö–ª–∏–µ–Ω—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏"
                ],
                correctAnswer: 0
            }
        ]
    },
    5: {
        id: 5,
        title: "–¢–µ—Å—Ç –ø–æ –æ—Å–Ω–æ–≤–∞–º –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤",
        courseId: 5,
        lessonId: 1,
        questions: [
            {
                id: 1,
                text: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏?",
                options: [
                    "–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ —Ü–µ–Ω–Ω—ã–µ –±—É–º–∞–≥–∏",
                    "–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤",
                    "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –ø–æ–ª–∏—Å",
                    "–ü–µ–Ω—Å–∏–æ–Ω–Ω—ã–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è"
                ],
                correctAnswer: 1
            },
            {
                id: 2,
                text: "–ö–∞–∫–æ–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –ø—Ä–∞–≤–∏–ª—É 50/30/20?",
                options: [
                    "50% –Ω–∞ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è, 30% –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, 20% –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è",
                    "50% –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, 30% –Ω–∞ –∂–µ–ª–∞–Ω–∏—è, 20% –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è",
                    "50% –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è, 30% –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, 20% –Ω–∞ –∂–µ–ª–∞–Ω–∏—è",
                    "50% –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, 30% –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è, 20% –Ω–∞ –∂–µ–ª–∞–Ω–∏—è"
                ],
                correctAnswer: 1
            },
            {
                id: 3,
                text: "–ö–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –ø–æ–¥—É—à–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏?",
                options: [
                    "1 –º–µ—Å—è—Ü —Ä–∞—Å—Ö–æ–¥–æ–≤",
                    "3-6 –º–µ—Å—è—Ü–µ–≤ —Ä–∞—Å—Ö–æ–¥–æ–≤",
                    "12 –º–µ—Å—è—Ü–µ–≤ —Ä–∞—Å—Ö–æ–¥–æ–≤",
                    "2 –≥–æ–¥–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤"
                ],
                correctAnswer: 1
            },
            {
                id: 4,
                text: "–ß—Ç–æ –∏–∑ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ –ù–ï –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –¥–æ—Ö–æ–¥–∞–º?",
                options: [
                    "–ó–∞—Ä–ø–ª–∞—Ç–∞",
                    "–î–∏–≤–∏–¥–µ–Ω–¥—ã –æ—Ç –∞–∫—Ü–∏–π",
                    "–í—ã–ø–ª–∞—Ç—ã –ø–æ –∫—Ä–µ–¥–∏—Ç—É",
                    "–î–æ—Ö–æ–¥ –æ—Ç —Å–¥–∞—á–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –∞—Ä–µ–Ω–¥—É"
                ],
                correctAnswer: 2
            },
            {
                id: 5,
                text: "–ö–∞–∫–æ–π –ø–µ—Ä–≤—ã–π —à–∞–≥ –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏?",
                options: [
                    "–û—Ç–∫—Ä—ã—Ç–∏–µ –±—Ä–æ–∫–µ—Ä—Å–∫–æ–≥–æ —Å—á–µ—Ç–∞",
                    "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã",
                    "–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞",
                    "–ü–æ–∫—É–ø–∫–∞ —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ –ø–æ–ª–∏—Å–∞"
                ],
                correctAnswer: 2
            }
        ]
    },
    6: {
        id: 6,
        title: "–¢–µ—Å—Ç –ø–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –±—é–¥–∂–µ—Ç–∞",
        courseId: 5,
        lessonId: 2,
        questions: [
            {
                id: 1,
                text: "–ö–∞–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –º–µ—Ç–æ–¥ 50/30/20?",
                options: [
                    "50% –Ω–∞ –∂–µ–ª–∞–Ω–∏—è, 30% –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, 20% –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è",
                    "50% –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, 30% –Ω–∞ –∂–µ–ª–∞–Ω–∏—è, 20% –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è",
                    "50% –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è, 30% –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, 20% –Ω–∞ –∂–µ–ª–∞–Ω–∏—è",
                    "50% –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, 30% –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è, 20% –Ω–∞ –∂–µ–ª–∞–Ω–∏—è"
                ],
                correctAnswer: 1
            },
            {
                id: 2,
                text: "–í —á–µ–º —Å—É—Ç—å –º–µ—Ç–æ–¥–∞ '–ó–∞–ø–ª–∞—Ç–∏ —Å–Ω–∞—á–∞–ª–∞ —Å–µ–±–µ'?",
                options: [
                    "–°–Ω–∞—á–∞–ª–∞ –æ–ø–ª–∞—Ç–∏—Ç—å –≤—Å–µ —Å—á–µ—Ç–∞, –ø–æ—Ç–æ–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã",
                    "–°–Ω–∞—á–∞–ª–∞ –æ—Ç–ª–æ–∂–∏—Ç—å –¥–µ–Ω—å–≥–∏ –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è, –ø–æ—Ç–æ–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã",
                    "–°–Ω–∞—á–∞–ª–∞ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è, –ø–æ—Ç–æ–º –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã",
                    "–°–Ω–∞—á–∞–ª–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –¥–æ—Ö–æ–¥, –ø–æ—Ç–æ–º –∂–∏—Ç—å –Ω–∞ –ø—Ä–æ—Ü–µ–Ω—Ç—ã"
                ],
                correctAnswer: 1
            },
            {
                id: 3,
                text: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω–≤–µ—Ä—Ç–æ–≤ –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –±—é–¥–∂–µ—Ç–∞?",
                options: [
                    "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –ø–æ –∫–æ–Ω–≤–µ—Ä—Ç–∞–º –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞—Å—Ö–æ–¥–æ–≤",
                    "–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–µ–Ω–µ–≥ –≤ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ö —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º",
                    "–°–∏—Å—Ç–µ–º–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏",
                    "–ú–µ—Ç–æ–¥ —É—á–µ—Ç–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ Excel"
                ],
                correctAnswer: 0
            },
            {
                id: 4,
                text: "–ö–∞–∫–æ–π —ç—Ç–∞–ø –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞ —Å–ª–µ–¥—É–µ—Ç –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –¥–æ—Ö–æ–¥–æ–≤?",
                options: [
                    "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ü–µ–ª–µ–π",
                    "–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤",
                    "–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤",
                    "–†–µ–≥—É–ª—è—Ä–Ω—ã–π –ø–µ—Ä–µ—Å–º–æ—Ç—Ä –±—é–¥–∂–µ—Ç–∞"
                ],
                correctAnswer: 2
            },
            {
                id: 5,
                text: "–ö–∞–∫ —á–∞—Å—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –±—é–¥–∂–µ—Ç?",
                options: [
                    "–ï–∂–µ–¥–Ω–µ–≤–Ω–æ",
                    "–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ",
                    "–ï–∂–µ–º–µ—Å—è—á–Ω–æ",
                    "–ï–∂–µ–≥–æ–¥–Ω–æ"
                ],
                correctAnswer: 2
            }
        ]
    }
};

// –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
let userData = {
    completedLessons: [],
    testResults: []
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
document.addEventListener('DOMContentLoaded', function() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
    tg.expand();
    
    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã Telegram
    applyTelegramTheme();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    initNavigation();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
    initEventListeners();
    
    // Home tab elements
    const balanceElement = document.getElementById('balance');
    const customersElement = document.getElementById('customers');
    const productsElement = document.getElementById('products');
    const startSimulationBtn = document.getElementById('start-simulation');
    
    // Shop tab elements
    const inventoryList = document.getElementById('inventory-list');
    const addProductForm = document.getElementById('add-product-form');
    
    // Marketing tab elements
    const activeCampaignsList = document.getElementById('active-campaigns');
    const campaignButtons = document.querySelectorAll('[data-campaign]');
    
    // Settings tab elements
    const shopSettingsForm = document.getElementById('shop-settings-form');
    const gameSettingsForm = document.getElementById('game-settings-form');
    
    // Initialize the UI
    updateStats();
    
    // Event Listeners
    
    // Tab navigation
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Remove active class from all tabs
            navLinks.forEach(link => link.classList.remove('active'));
            tabContents.forEach(tab => tab.classList.remove('active'));
            
            // Add active class to clicked tab
            this.classList.add('active');
            
            // Show corresponding content
            const tabId = this.getAttribute('data-tab');
            document.getElementById(tabId).classList.add('active');
        });
    });
    
    // Start simulation button
    if (startSimulationBtn) {
        startSimulationBtn.addEventListener('click', function() {
            if (!gameState.simulationRunning) {
                startSimulation();
                this.textContent = '–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–µ–Ω—å';
            } else {
                stopSimulation();
                this.textContent = '–ù–∞—á–∞—Ç—å –¥–µ–Ω—å';
            }
        });
    }
    
    // Add product form
    if (addProductForm) {
        addProductForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const productName = document.getElementById('product-name').value;
            const productPrice = parseFloat(document.getElementById('product-price').value);
            const productCost = parseFloat(document.getElementById('product-cost').value);
            const productQuantity = parseInt(document.getElementById('product-quantity').value);
            
            // Validate inputs
            if (productPrice <= productCost) {
                showNotification('–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã—à–µ –∑–∞–∫—É–ø–æ—á–Ω–æ–π —Ü–µ–Ω—ã!', 'error');
                return;
            }
            
            // Calculate total cost
            const totalCost = productCost * productQuantity;
            
            // Check if user has enough balance
            if (totalCost > gameState.balance) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –∑–∞–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä–∞!', 'error');
                return;
            }
            
            // Add product to inventory
            const product = {
                id: Date.now(), // Unique ID
                name: productName,
                price: productPrice,
                cost: productCost,
                quantity: productQuantity,
                sold: 0
            };
            
            gameState.products.push(product);
            gameState.balance -= totalCost;
            
            // Update UI
            updateInventory();
            updateStats();
            showNotification(`–¢–æ–≤–∞—Ä "${productName}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç!`, 'success');
            
            // Reset form
            addProductForm.reset();
        });
    }
    
    // Campaign buttons
    campaignButtons.forEach(button => {
        button.addEventListener('click', function() {
            const campaignType = this.getAttribute('data-campaign');
            startCampaign(campaignType);
        });
    });
    
    // Shop settings form
    if (shopSettingsForm) {
        shopSettingsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            gameState.settings.shopName = document.getElementById('shop-name').value;
            gameState.settings.shopType = document.getElementById('shop-type').value;
            
            saveGameState();
            showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!', 'success');
        });
    }
    
    // Game settings form
    if (gameSettingsForm) {
        gameSettingsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            gameState.settings.difficulty = document.getElementById('difficulty').value;
            gameState.settings.simulationSpeed = document.getElementById('simulation-speed').value;
            gameState.settings.autoSave = document.getElementById('auto-save').checked;
            
            saveGameState();
            showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!', 'success');
        });
    }
    
    // Load saved game state if exists
    loadGameState();
    
    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
    loadUserData();
});

// Game Functions

// Update stats display
function updateStats() {
    document.getElementById('balance').textContent = gameState.balance;
    document.getElementById('customers').textContent = gameState.customers;
    document.getElementById('products').textContent = gameState.products.length;
}

// Update inventory display
function updateInventory() {
    const inventoryList = document.getElementById('inventory-list');
    
    if (gameState.products.length === 0) {
        inventoryList.innerHTML = '<p class="empty-state">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤. –î–æ–±–∞–≤—å—Ç–µ –∏—Ö —Å–ø—Ä–∞–≤–∞.</p>';
        return;
    }
    
    let html = '';
    gameState.products.forEach(product => {
        html += `
            <div class="product-item" data-id="${product.id}">
                <div class="product-info">
                    <h4>${product.name}</h4>
                    <div class="product-details">
                        <span>–¶–µ–Ω–∞: ${product.price}‚ÇΩ</span>
                        <span>–ó–∞–∫—É–ø–æ—á–Ω–∞—è: ${product.cost}‚ÇΩ</span>
                        <span>–í –Ω–∞–ª–∏—á–∏–∏: ${product.quantity}</span>
                        <span>–ü—Ä–æ–¥–∞–Ω–æ: ${product.sold}</span>
                    </div>
                </div>
                <div class="product-actions">
                    <button class="secondary-btn restock-btn" data-id="${product.id}">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                    <button class="secondary-btn remove-btn" data-id="${product.id}">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            </div>
        `;
    });
    
    inventoryList.innerHTML = html;
    
    // Add event listeners to new buttons
    document.querySelectorAll('.restock-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const productId = parseInt(this.getAttribute('data-id'));
            restockProduct(productId);
        });
    });
    
    document.querySelectorAll('.remove-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const productId = parseInt(this.getAttribute('data-id'));
            removeProduct(productId);
        });
    });
}

// Update campaigns display
function updateCampaigns() {
    const campaignsList = document.getElementById('active-campaigns');
    
    if (gameState.activeCampaigns.length === 0) {
        campaignsList.innerHTML = '<p class="empty-state">–£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π.</p>';
        return;
    }
    
    let html = '';
    gameState.activeCampaigns.forEach(campaign => {
        html += `
            <div class="campaign-item">
                <div class="campaign-info">
                    <h4>${getCampaignName(campaign.type)}</h4>
                    <div class="campaign-details">
                        <span>–û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π: ${campaign.daysLeft}</span>
                        <span>–≠—Ñ—Ñ–µ–∫—Ç: +${campaign.effect} –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –¥–µ–Ω—å</span>
                    </div>
                </div>
            </div>
        `;
    });
    
    campaignsList.innerHTML = html;
}

// Get campaign name by type
function getCampaignName(type) {
    switch(type) {
        case 'flyers': return '–õ–∏—Å—Ç–æ–≤–∫–∏';
        case 'online': return '–†–µ–∫–ª–∞–º–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ';
        case 'referral': return '–ê–∫—Ü–∏—è "–ü—Ä–∏–≤–µ–¥–∏ –¥—Ä—É–≥–∞"';
        default: return '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞–º–ø–∞–Ω–∏—è';
    }
}

// Start a marketing campaign
function startCampaign(campaignType) {
    let cost = 0;
    let effect = 0;
    let duration = 0;
    
    switch(campaignType) {
        case 'flyers':
            cost = 500;
            effect = 10;
            duration = 3;
            break;
        case 'online':
            cost = 2000;
            effect = 50;
            duration = 7;
            break;
        case 'referral':
            cost = 1000;
            effect = 30;
            duration = 5;
            break;
    }
    
    // Check if user has enough balance
    if (cost > gameState.balance) {
        showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–∞–º–ø–∞–Ω–∏–∏!', 'error');
        return;
    }
    
    // Add campaign
    const campaign = {
        type: campaignType,
        effect: effect,
        daysLeft: duration
    };
    
    gameState.activeCampaigns.push(campaign);
    gameState.balance -= cost;
    
    // Update UI
    updateCampaigns();
    updateStats();
    showNotification(`–ö–∞–º–ø–∞–Ω–∏—è "${getCampaignName(campaignType)}" –∑–∞–ø—É—â–µ–Ω–∞!`, 'success');
}

// Restock a product
function restockProduct(productId) {
    const product = gameState.products.find(p => p.id === productId);
    
    if (!product) return;
    
    // Create a simple form for restocking
    const quantity = prompt(`–°–∫–æ–ª—å–∫–æ –µ–¥–∏–Ω–∏—Ü —Ç–æ–≤–∞—Ä–∞ "${product.name}" –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–∫—É–ø–∏—Ç—å?`, "10");
    
    if (quantity === null) return; // User cancelled
    
    const quantityNum = parseInt(quantity);
    
    if (isNaN(quantityNum) || quantityNum <= 0) {
        showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ!', 'error');
        return;
    }
    
    const totalCost = product.cost * quantityNum;
    
    // Check if user has enough balance
    if (totalCost > gameState.balance) {
        showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –∑–∞–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä–∞!', 'error');
        return;
    }
    
    // Update product
    product.quantity += quantityNum;
    gameState.balance -= totalCost;
    
    // Update UI
    updateInventory();
    updateStats();
    showNotification(`–¢–æ–≤–∞—Ä "${product.name}" –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ ${quantityNum} –µ–¥–∏–Ω–∏—Ü!`, 'success');
}

// Remove a product
function removeProduct(productId) {
    if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä?')) return;
    
    const productIndex = gameState.products.findIndex(p => p.id === productId);
    
    if (productIndex === -1) return;
    
    // Remove product
    gameState.products.splice(productIndex, 1);
    
    // Update UI
    updateInventory();
    updateStats();
    showNotification('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–∞!', 'success');
}

// Start simulation
function startSimulation() {
    if (gameState.products.length === 0) {
        showNotification('–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –¥–Ω—è!', 'error');
        return;
    }
    
    gameState.simulationRunning = true;
    showNotification(`–î–µ–Ω—å ${gameState.dayCount} –Ω–∞—á–∞–ª—Å—è!`, 'info');
    
    // Run simulation
    simulateDay();
}

// Stop simulation
function stopSimulation() {
    gameState.simulationRunning = false;
    gameState.dayCount++;
    showNotification('–î–µ–Ω—å –∑–∞–≤–µ—Ä—à–µ–Ω!', 'info');
    
    // Process end of day
    processEndOfDay();
}

// Simulate a day
function simulateDay() {
    // Calculate base customers based on difficulty
    let baseCustomers = 10;
    
    switch(gameState.settings.difficulty) {
        case 'easy': baseCustomers = 15; break;
        case 'medium': baseCustomers = 10; break;
        case 'hard': baseCustomers = 5; break;
    }
    
    // Add customers from active campaigns
    gameState.activeCampaigns.forEach(campaign => {
        baseCustomers += campaign.effect;
    });
    
    // Add some randomness
    const customers = Math.floor(baseCustomers * (0.8 + Math.random() * 0.4));
    
    // Process customers
    processCustomers(customers);
    
    // Update UI
    updateStats();
    updateInventory();
}

// Process customers
function processCustomers(customers) {
    gameState.customers += customers;
    
    // Each customer has a chance to buy products
    let totalSales = 0;
    let totalProfit = 0;
    
    for (let i = 0; i < customers; i++) {
        // Determine how many products the customer will buy (0-3)
        const productsToBuy = Math.floor(Math.random() * 3);
        
        for (let j = 0; j < productsToBuy; j++) {
            // Select a random product
            if (gameState.products.length === 0) break;
            
            const randomIndex = Math.floor(Math.random() * gameState.products.length);
            const product = gameState.products[randomIndex];
            
            // Check if product is in stock
            if (product.quantity > 0) {
                // Sell the product
                product.quantity--;
                product.sold++;
                
                // Calculate profit
                const profit = product.price - product.cost;
                totalSales += product.price;
                totalProfit += profit;
            }
        }
    }
    
    // Update balance
    gameState.balance += totalSales;
    
    // Show sales notification
    if (totalSales > 0) {
        showNotification(`–ü—Ä–æ–¥–∞–∂–∏ –∑–∞ –¥–µ–Ω—å: ${totalSales}‚ÇΩ (–ø—Ä–∏–±—ã–ª—å: ${totalProfit}‚ÇΩ)`, 'success');
    } else {
        showNotification('–°–µ–≥–æ–¥–Ω—è –Ω–µ –±—ã–ª–æ –ø—Ä–æ–¥–∞–∂.', 'info');
    }
}

// Process end of day
function processEndOfDay() {
    // Update campaign days left
    gameState.activeCampaigns.forEach((campaign, index) => {
        campaign.daysLeft--;
        
        // Remove expired campaigns
        if (campaign.daysLeft <= 0) {
            showNotification(`–ö–∞–º–ø–∞–Ω–∏—è "${getCampaignName(campaign.type)}" –∑–∞–≤–µ—Ä—à–µ–Ω–∞!`, 'info');
            gameState.activeCampaigns.splice(index, 1);
        }
    });
    
    // Update UI
    updateCampaigns();
    
    // Auto save if enabled
    if (gameState.settings.autoSave) {
        saveGameState();
    }
}

// Show notification
function showNotification(message, type = 'info') {
    // Create notification element if it doesn't exist
    let notification = document.getElementById('notification');
    
    if (!notification) {
        notification = document.createElement('div');
        notification.id = 'notification';
        document.body.appendChild(notification);
        
        // Add styles
        notification.style.position = 'fixed';
        notification.style.bottom = '20px';
        notification.style.right = '20px';
        notification.style.padding = '15px 20px';
        notification.style.borderRadius = '4px';
        notification.style.color = 'white';
        notification.style.fontWeight = '500';
        notification.style.zIndex = '1000';
        notification.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.2)';
        notification.style.transition = 'all 0.3s ease';
        notification.style.opacity = '0';
        notification.style.transform = 'translateY(20px)';
    }
    
    // Set notification type
    switch(type) {
        case 'success':
            notification.style.backgroundColor = '#4CAF50';
            break;
        case 'error':
            notification.style.backgroundColor = '#F44336';
            break;
        case 'info':
        default:
            notification.style.backgroundColor = '#2196F3';
            break;
    }
    
    // Set message
    notification.textContent = message;
    
    // Show notification
    notification.style.opacity = '1';
    notification.style.transform = 'translateY(0)';
    
    // Hide notification after 3 seconds
    setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transform = 'translateY(20px)';
    }, 3000);
}

// Save game state to localStorage
function saveGameState() {
    localStorage.setItem('smartShopState', JSON.stringify(gameState));
    showNotification('–ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!', 'success');
}

// Load game state from localStorage
function loadGameState() {
    const savedState = localStorage.getItem('smartShopState');
    
    if (savedState) {
        try {
            const parsedState = JSON.parse(savedState);
            
            // Update game state
            Object.assign(gameState, parsedState);
            
            // Update UI
            updateStats();
            updateInventory();
            updateCampaigns();
            
            // Update settings form values
            document.getElementById('shop-name').value = gameState.settings.shopName;
            document.getElementById('shop-type').value = gameState.settings.shopType;
            document.getElementById('difficulty').value = gameState.settings.difficulty;
            document.getElementById('simulation-speed').value = gameState.settings.simulationSpeed;
            document.getElementById('auto-save').checked = gameState.settings.autoSave;
            
            showNotification('–ò–≥—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!', 'success');
        } catch (error) {
            console.error('Error loading game state:', error);
            showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –∏–≥—Ä—ã!', 'error');
        }
    }
}

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã Telegram
function applyTelegramTheme() {
    document.documentElement.style.setProperty('--tg-theme-bg-color', tg.themeParams.bg_color || '#ffffff');
    document.documentElement.style.setProperty('--tg-theme-text-color', tg.themeParams.text_color || '#000000');
    document.documentElement.style.setProperty('--tg-theme-hint-color', tg.themeParams.hint_color || '#999999');
    document.documentElement.style.setProperty('--tg-theme-link-color', tg.themeParams.link_color || '#2481cc');
    document.documentElement.style.setProperty('--tg-theme-button-color', tg.themeParams.button_color || '#2481cc');
    document.documentElement.style.setProperty('--tg-theme-button-text-color', tg.themeParams.button_text_color || '#ffffff');
    
    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã, –µ—Å–ª–∏ –æ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞ –≤ Telegram
    if (tg.themeParams.bg_color && tg.themeParams.bg_color.match(/^#[0-9a-f]{6}$/i) && 
        parseInt(tg.themeParams.bg_color.substring(1), 16) < 0x808080) {
        document.body.classList.add('tg-dark-theme');
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
function initNavigation() {
    const navButtons = document.querySelectorAll('.nav-button');
    
    navButtons.forEach(button => {
        button.addEventListener('click', function() {
            const sectionId = this.getAttribute('data-section');
            showSection(sectionId);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
            navButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
        });
    });
}

// –ü–æ–∫–∞–∑–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é —Å–µ–∫—Ü–∏—é
function showSection(sectionId) {
    const sections = document.querySelectorAll('.content-section');
    
    sections.forEach(section => {
        section.classList.remove('active');
    });
    
    const activeSection = document.getElementById(sectionId);
    if (activeSection) {
        activeSection.classList.add('active');
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
function initEventListeners() {
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∫—É—Ä—Å–æ–≤ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
    const courseCards = document.querySelectorAll('.course-card');
    courseCards.forEach(card => {
        card.addEventListener('click', function() {
            const courseId = this.getAttribute('data-course-id');
            openCourse(courseId);
            showSection('courses');
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.nav-button').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.nav-button[data-section="courses"]').classList.add('active');
        });
    });
}

// –û—Ç–∫—Ä—ã—Ç—å –∫—É—Ä—Å
function openCourse(courseId) {
    const course = courses[courseId];
    if (!course) return;
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∫—É—Ä—Å–∞
    document.getElementById('course-title').textContent = course.title;
    
    // –û—á–∏—Å—Ç–∫–∞ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—Ä–æ–∫–æ–≤
    const lessonContainer = document.getElementById('lesson-container');
    lessonContainer.innerHTML = '';
    
    course.lessons.forEach(lesson => {
        const lessonElement = document.createElement('div');
        lessonElement.className = `lesson-item ${lesson.completed ? 'lesson-completed' : ''} ${lesson.locked ? 'lesson-locked' : ''}`;
        lessonElement.innerHTML = `
            <div class="lesson-number">${lesson.id}</div>
            <div class="lesson-info">
                <div class="lesson-title">${lesson.title}</div>
                <div class="lesson-duration">${lesson.duration}</div>
            </div>
            ${lesson.locked ? '<div class="lesson-lock-icon">üîí</div>' : ''}
        `;
        
        lessonElement.addEventListener('click', function() {
            if (!lesson.locked) {
                startLesson(courseId, lesson.id);
            } else {
                showSubscriptionMessage();
            }
        });
        
        lessonContainer.appendChild(lessonElement);
    });
    
    // –ü–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ü–∏—é –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫—É—Ä—Å–∞
    showSection('course-view');
}

// –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–∫–∏
function showSubscriptionMessage() {
    tg.showPopup({
        title: '–£—Ä–æ–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω',
        message: '–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É —É—Ä–æ–∫—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–∫—É',
        buttons: [{
            type: 'ok'
        }]
    });
}

// –ù–∞—á–∞—Ç—å —É—Ä–æ–∫
function startLesson(courseId, lessonId) {
    const course = courses[courseId];
    const lesson = course.lessons.find(l => l.id === lessonId);
    
    if (!lesson) return;
    
    // –°–æ–∑–¥–∞–µ–º —Å–µ–∫—Ü–∏—é –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —É—Ä–æ–∫–∞, –µ—Å–ª–∏ –µ–µ –µ—â–µ –Ω–µ—Ç
    let lessonViewSection = document.getElementById('lesson-view');
    if (!lessonViewSection) {
        lessonViewSection = document.createElement('section');
        lessonViewSection.id = 'lesson-view';
        lessonViewSection.className = 'content-section';
        
        const mainContent = document.querySelector('.app-content');
        mainContent.appendChild(lessonViewSection);
    }
    
    // –ó–∞–ø–æ–ª–Ω—è–µ–º —Å–µ–∫—Ü–∏—é —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —É—Ä–æ–∫–∞
    lessonViewSection.innerHTML = `
        <div class="lesson-navigation">
            <button class="back-button" onclick="backToCourseView()">‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É</button>
            <h2>${lesson.title}</h2>
        </div>
        <div class="lesson-content">
            ${lesson.content ? lesson.content.text : '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —É—Ä–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ'}
        </div>
        <div class="lesson-actions">
            <button class="tg-button" onclick="startLessonTest(${courseId}, ${lessonId})">–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç</button>
        </div>
    `;
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏—é —É—Ä–æ–∫–∞
    showSection('lesson-view');
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º FAQ, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å –≤ —É—Ä–æ–∫–µ
    if (lesson.content && lesson.content.text.includes('faq-question')) {
        initFaqItems();
    }
}

// –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É –∫—É—Ä—Å–∞
function backToCourseView() {
    showSection('course-view');
}

// –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–¥ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ
function runCode() {
    const outputElement = document.getElementById('code-output');
    outputElement.innerHTML = 'Hello, World!';
    outputElement.style.display = 'block';
}

// –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç –ø–æ —É—Ä–æ–∫—É
function startLessonTest(courseId, lessonId) {
    // –ù–∞—Ö–æ–¥–∏–º —Ç–µ—Å—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —É—Ä–æ–∫—É
    const test = Object.values(tests).find(t => t.courseId === parseInt(courseId) && t.lessonId === parseInt(lessonId));
    
    if (test) {
        startTest(test.id);
    } else {
        tg.showPopup({
            title: '–¢–µ—Å—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω',
            message: '–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Ç–µ—Å—Ç –¥–ª—è —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤',
            buttons: [{
                type: 'ok'
            }]
        });
    }
}

// –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
function startTest(testId) {
    const test = tests[testId];
    if (!test) return;
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Ç–µ—Å—Ç–∞
    document.getElementById('test-title').textContent = test.title;
    
    // –û—á–∏—Å—Ç–∫–∞ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ç–µ—Å—Ç–∞
    const testContainer = document.getElementById('test-container');
    testContainer.innerHTML = '';
    
    test.questions.forEach((question, index) => {
        const questionElement = document.createElement('div');
        questionElement.className = 'test-question';
        questionElement.innerHTML = `
            <div class="question-text">${index + 1}. ${question.text}</div>
            <div class="answer-options">
                ${question.options.map((option, optIndex) => `
                    <label class="answer-option">
                        <input type="radio" name="question-${question.id}" value="${optIndex}">
                        ${option}
                    </label>
                `).join('')}
            </div>
            <div class="question-feedback" id="feedback-${question.id}"></div>
        `;
        
        testContainer.appendChild(questionElement);
    });
    
    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤
    const answerOptions = document.querySelectorAll('.answer-option');
    answerOptions.forEach(option => {
        option.addEventListener('click', function() {
            const radioInput = this.querySelector('input[type="radio"]');
            if (radioInput) {
                radioInput.checked = true;
                
                // –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ selected —É –≤—Å–µ—Ö –æ–ø—Ü–∏–π –≤ —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ
                const name = radioInput.getAttribute('name');
                document.querySelectorAll(`input[name="${name}"]`).forEach(input => {
                    input.closest('.answer-option').classList.remove('selected');
                });
                
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ selected –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ–ø—Ü–∏–∏
                this.classList.add('selected');
            }
        });
    });
    
    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–µ—Å—Ç–∞
    const submitButton = document.getElementById('submit-test');
    submitButton.textContent = '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç—ã';
    submitButton.onclick = function() {
        checkTestAnswers(testId);
    };
    
    // –ü–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ü–∏—é –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç–µ—Å—Ç–∞
    showSection('test-view');
}

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç—ã —Ç–µ—Å—Ç–∞
function checkTestAnswers(testId) {
    const test = tests[testId];
    if (!test) return;
    
    let correctAnswers = 0;
    const totalQuestions = test.questions.length;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å
    test.questions.forEach((question) => {
        const selectedOption = document.querySelector(`input[name="question-${question.id}"]:checked`);
        const feedbackElement = document.getElementById(`feedback-${question.id}`);
        
        if (selectedOption) {
            const selectedAnswer = parseInt(selectedOption.value);
            
            if (selectedAnswer === question.correctAnswer) {
                correctAnswers++;
                feedbackElement.textContent = '‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ!';
                feedbackElement.className = 'question-feedback correct';
            } else {
                feedbackElement.textContent = `‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${question.options[question.correctAnswer]}`;
                feedbackElement.className = 'question-feedback incorrect';
            }
        } else {
            feedbackElement.textContent = '–í—ã –Ω–µ –≤—ã–±—Ä–∞–ª–∏ –æ—Ç–≤–µ—Ç';
            feedbackElement.className = 'question-feedback warning';
        }
    });
    
    // –í—ã—á–∏—Å–ª—è–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
    const score = Math.round((correctAnswers / totalQuestions) * 100);
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞
    saveTestResult(testId, score);
    
    // –ï—Å–ª–∏ —ç—Ç–æ —Ç–µ—Å—Ç –ø–æ —É—Ä–æ–∫—É, –æ—Ç–º–µ—á–∞–µ–º —É—Ä–æ–∫ –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–π
    if (test.courseId && test.lessonId) {
        markLessonAsCompleted(test.courseId, test.lessonId);
    }
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    tg.showPopup({
        title: '–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞',
        message: `–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ ${correctAnswers} –∏–∑ ${totalQuestions} –≤–æ–ø—Ä–æ—Å–æ–≤ (${score}%)`,
        buttons: [{
            type: 'ok'
        }]
    });
    
    // –ò–∑–º–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ "–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–µ—Å—Ç–∞–º"
    const submitButton = document.getElementById('submit-test');
    submitButton.textContent = '–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–µ—Å—Ç–∞–º';
    submitButton.onclick = function() {
        backToTests();
    };
}

// –û—Ç–º–µ—Ç–∏—Ç—å —É—Ä–æ–∫ –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–π
function markLessonAsCompleted(courseId, lessonId) {
    const course = courses[courseId];
    if (!course) return;
    
    const lesson = course.lessons.find(l => l.id === lessonId);
    if (!lesson) return;
    
    lesson.completed = true;
    
    // –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö —É—Ä–æ–∫–æ–≤
    if (!userData.completedLessons.includes(`${courseId}-${lessonId}`)) {
        userData.completedLessons.push(`${courseId}-${lessonId}`);
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    saveUserData();
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫—É—Ä—Å–∞
    updateCourseProgress(courseId);
}

// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞
function saveTestResult(testId, score) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è —ç—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞
    const existingResultIndex = userData.testResults.findIndex(r => r.testId === testId);
    
    if (existingResultIndex !== -1) {
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        userData.testResults[existingResultIndex].score = score;
        userData.testResults[existingResultIndex].date = new Date().toISOString();
    } else {
        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        userData.testResults.push({
            testId: testId,
            score: score,
            date: new Date().toISOString()
        });
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    saveUserData();
}

// –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫—É—Ä—Å–∞
function updateCourseProgress(courseId) {
    const course = courses[courseId];
    if (!course) return;
    
    const completedLessons = course.lessons.filter(lesson => lesson.completed).length;
    const totalLessons = course.lessons.length;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Å–ø–∏—Å–∫–µ –∫—É—Ä—Å–æ–≤
    const courseItem = document.querySelector(`.course-item[data-course-id="${courseId}"]`);
    if (courseItem) {
        const progressElement = courseItem.querySelector('.course-progress');
        if (progressElement) {
            progressElement.textContent = `${completedLessons}/${totalLessons} —É—Ä–æ–∫–æ–≤`;
        }
    }
}

// –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É –∫—É—Ä—Å–æ–≤
function backToCourses() {
    showSection('courses');
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    document.querySelectorAll('.nav-button').forEach(btn => btn.classList.remove('active'));
    document.querySelector('.nav-button[data-section="courses"]').classList.add('active');
}

// –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É —Ç–µ—Å—Ç–æ–≤
function backToTests() {
    showSection('tests');
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    document.querySelectorAll('.nav-button').forEach(btn => btn.classList.remove('active'));
    document.querySelector('.nav-button[data-section="tests"]').classList.add('active');
}

// –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞
function submitTest() {
    const testView = document.getElementById('test-view');
    const testTitle = document.getElementById('test-title').textContent;
    const testId = Object.values(tests).find(test => test.title === testTitle)?.id;
    
    if (!testId) return;
    
    // –°–±–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤
    const answers = [];
    const questions = document.querySelectorAll('.test-question');
    
    questions.forEach((question, index) => {
        const selectedOption = question.querySelector('input[type="radio"]:checked');
        const answer = selectedOption ? parseInt(selectedOption.value) : -1;
        
        answers.push({
            questionId: index + 1,
            answer: answer
        });
    });
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Telegram
    tg.sendData(JSON.stringify({
        action: 'submitTest',
        testId: testId,
        answers: answers
    }));
    
    // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    tg.showPopup({
        title: '–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω',
        message: '–í–∞—à–∏ –æ—Ç–≤–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É',
        buttons: [{
            type: 'ok'
        }]
    });
    
    // –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É —Ç–µ—Å—Ç–æ–≤
    backToTests();
}

// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
function saveUserData() {
    localStorage.setItem('telegramMiniAppUserData', JSON.stringify(userData));
}

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
function loadUserData() {
    const savedData = localStorage.getItem('telegramMiniAppUserData');
    
    if (savedData) {
        try {
            userData = JSON.parse(savedData);
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            applyUserData();
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
        }
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∫—É—Ä—Å–æ–≤
    updateAllCoursesProgress();
}

// –ü—Ä–∏–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
function applyUserData() {
    // –û—Ç–º–µ—á–∞–µ–º –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ —É—Ä–æ–∫–∏
    userData.completedLessons.forEach(lessonKey => {
        const [courseId, lessonId] = lessonKey.split('-').map(Number);
        
        if (courses[courseId]) {
            const lesson = courses[courseId].lessons.find(l => l.id === lessonId);
            if (lesson) {
                lesson.completed = true;
            }
        }
    });
}

// –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—Å–µ—Ö –∫—É—Ä—Å–æ–≤
function updateAllCoursesProgress() {
    Object.keys(courses).forEach(courseId => {
        updateCourseProgress(parseInt(courseId));
    });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–æ–ª–µ–≤—ã—Ö –∏–≥—Ä
function handleRolePlay(scenario, option) {
    let feedback = '';
    let isCorrect = false;
    
    switch(scenario) {
        case 'price':
            if (option === 3) {
                feedback = '<span class="correct">‚úì –û—Ç–ª–∏—á–Ω–æ!</span> –§–æ–∫—É—Å –Ω–∞ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ ‚Äî –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–µ–º –æ —Ü–µ–Ω–µ. –í—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø–æ–Ω—è—Ç—å –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ –∏ –ø–æ–¥–æ–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.';
                isCorrect = true;
            } else if (option === 1) {
                feedback = '<span class="warning">‚ö†Ô∏è –ù–µ–ø–ª–æ—Ö–æ</span>, –Ω–æ —Ç–∞–∫–æ–π –æ—Ç–≤–µ—Ç –º–æ–∂–µ—Ç –∑–≤—É—á–∞—Ç—å –∫–∞–∫ –∑–∞–≥–æ—Ç–æ–≤–∫–∞. –õ—É—á—à–µ –≤—ã—è—Å–Ω–∏—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –∫–ª–∏–µ–Ω—Ç —Å—á–∏—Ç–∞–µ—Ç –¥–æ—Ä–æ–≥–∏–º –∏ –ø–æ—á–µ–º—É.';
            } else {
                feedback = '<span class="incorrect">‚úó –û—Å—Ç–æ—Ä–æ–∂–Ω–æ</span>. –°—Ä–∞–∑—É –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Å–∫–∏–¥–∫—É ‚Äî –∑–Ω–∞—á–∏—Ç –æ–±–µ—Å—Ü–µ–Ω–∏–≤–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ–¥—É–∫—Ç. –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Ü–µ–Ω–Ω–æ—Å—Ç—å.';
            }
            break;
        // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
    }
    
    const feedbackElement = document.getElementById('role-play-feedback');
    if (feedbackElement) {
        feedbackElement.innerHTML = feedback;
        feedbackElement.style.display = 'block';
        
        if (isCorrect) {
            feedbackElement.className = 'role-play-feedback correct-feedback';
        } else {
            feedbackElement.className = 'role-play-feedback ' + (option === 1 ? 'warning-feedback' : 'incorrect-feedback');
        }
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –±—é–¥–∂–µ—Ç–∞
function calculateBudget() {
    // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ—Ö–æ–¥–æ–≤
    const salary = parseFloat(document.getElementById('income-salary').value) || 0;
    const additionalIncome = parseFloat(document.getElementById('income-additional').value) || 0;
    
    // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤
    const housing = parseFloat(document.getElementById('expense-housing').value) || 0;
    const food = parseFloat(document.getElementById('expense-food').value) || 0;
    const transport = parseFloat(document.getElementById('expense-transport').value) || 0;
    const entertainment = parseFloat(document.getElementById('expense-entertainment').value) || 0;
    const other = parseFloat(document.getElementById('expense-other').value) || 0;
    
    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∏—Ç–æ–≥–∏
    const totalIncome = salary + additionalIncome;
    const totalExpenses = housing + food + transport + entertainment + other;
    const balance = totalIncome - totalExpenses;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    document.getElementById('total-income').textContent = totalIncome;
    document.getElementById('total-expenses').textContent = totalExpenses;
    document.getElementById('balance').textContent = balance;
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –±–∞–ª–∞–Ω—Å–∞
    const balanceElement = document.getElementById('balance');
    if (balance > 0) {
        balanceElement.className = 'positive';
    } else if (balance < 0) {
        balanceElement.className = 'negative';
    } else {
        balanceElement.className = '';
    }
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
    const feedbackElement = document.getElementById('budget-feedback');
    
    if (balance < 0) {
        feedbackElement.innerHTML = '<span class="warning">‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ!</span> –í–∞—à–∏ —Ä–∞—Å—Ö–æ–¥—ã –ø—Ä–µ–≤—ã—à–∞—é—Ç –¥–æ—Ö–æ–¥—ã. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –±—é–¥–∂–µ—Ç –∏ –Ω–∞–π—Ç–∏ —Å–ø–æ—Å–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –∏–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ—Ö–æ–¥—ã.';
        feedbackElement.className = 'budget-feedback warning-feedback';
    } else if (balance === 0) {
        feedbackElement.innerHTML = '<span class="neutral">‚ÑπÔ∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ</span> –í–∞—à –±—é–¥–∂–µ—Ç —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω, –Ω–æ –Ω–µ –æ—Å—Ç–∞–µ—Ç—Å—è —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è —Å–±–µ—Ä–µ–∂–µ–Ω–∏–π. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–¥–µ–ª–∏—Ç—å —Ö–æ—Ç—è –±—ã 10-20% –¥–æ—Ö–æ–¥–∞ –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è.';
        feedbackElement.className = 'budget-feedback neutral-feedback';
    } else {
        const savingsRate = (balance / totalIncome) * 100;
        
        if (savingsRate < 10) {
            feedbackElement.innerHTML = '<span class="info">‚ÑπÔ∏è –•–æ—Ä–æ—à–∏–π —Å—Ç–∞—Ä—Ç</span> –£ –≤–∞—Å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å –Ω–æ—Ä–º—É —Å–±–µ—Ä–µ–∂–µ–Ω–∏–π –¥–æ 10-20% –æ—Ç –¥–æ—Ö–æ–¥–∞.';
            feedbackElement.className = 'budget-feedback info-feedback';
        } else if (savingsRate < 20) {
            feedbackElement.innerHTML = '<span class="success">‚úì –û—Ç–ª–∏—á–Ω–æ!</span> –í—ã —Å–±–µ—Ä–µ–≥–∞–µ—Ç–µ –±–æ–ª–µ–µ 10% —Å–≤–æ–µ–≥–æ –¥–æ—Ö–æ–¥–∞. –≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã.';
            feedbackElement.className = 'budget-feedback success-feedback';
        } else {
            feedbackElement.innerHTML = '<span class="success">‚úì –ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ!</span> –í—ã —Å–±–µ—Ä–µ–≥–∞–µ—Ç–µ –±–æ–ª–µ–µ 20% —Å–≤–æ–µ–≥–æ –¥–æ—Ö–æ–¥–∞. –í—ã –Ω–∞ –ø—É—Ç–∏ –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏!';
            feedbackElement.className = 'budget-feedback success-feedback';
        }
    }
    
    feedbackElement.style.display = 'block';
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ FAQ-–≤–æ–ø—Ä–æ—Å–æ–≤
function initFaqItems() {
    const faqQuestions = document.querySelectorAll('.faq-question');
    
    faqQuestions.forEach(question => {
        // –°–∫—Ä—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        const answer = question.nextElementSibling;
        if (answer && answer.classList.contains('faq-answer')) {
            answer.style.display = 'none';
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
        question.addEventListener('click', function() {
            const answer = this.nextElementSibling;
            if (answer && answer.classList.contains('faq-answer')) {
                // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞
                if (answer.style.display === 'none' || !answer.style.display) {
                    answer.style.display = 'block';
                    this.classList.add('active');
                    this.setAttribute('aria-expanded', 'true');
                    // –ú–µ–Ω—è–µ–º —Å–∏–º–≤–æ–ª —Å + –Ω–∞ -
                    this.style.setProperty('--faq-icon', '"-"');
                } else {
                    answer.style.display = 'none';
                    this.classList.remove('active');
                    this.setAttribute('aria-expanded', 'false');
                    // –ú–µ–Ω—è–µ–º —Å–∏–º–≤–æ–ª —Å - –Ω–∞ +
                    this.style.setProperty('--faq-icon', '"+"');
                }
            }
        });
    });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π
function calculateInvestment() {
    // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
    const initialInvestment = parseFloat(document.getElementById('initial-investment').value) || 10000;
    const monthlyContribution = parseFloat(document.getElementById('monthly-contribution').value) || 1000;
    const annualReturn = parseFloat(document.getElementById('annual-return').value) || 7;
    const years = parseFloat(document.getElementById('investment-period').value) || 10;
    
    // –†–∞—Å—á–µ—Ç
    const monthlyRate = annualReturn / 100 / 12;
    const totalMonths = years * 12;
    
    let futureValue = initialInvestment;
    for (let i = 0; i < totalMonths; i++) {
        futureValue = (futureValue + monthlyContribution) * (1 + monthlyRate);
    }
    
    const totalContributions = initialInvestment + (monthlyContribution * totalMonths);
    const totalInterest = futureValue - totalContributions;
    
    // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª
    const formatNumber = (num) => {
        return Math.round(num).toLocaleString('ru-RU') + ' ‚ÇΩ';
    };
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    document.getElementById('total-contributions').textContent = formatNumber(totalContributions);
    document.getElementById('total-interest').textContent = formatNumber(totalInterest);
    document.getElementById('final-amount').textContent = formatNumber(futureValue);
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    document.getElementById('investment-result').style.display = 'block';
} 